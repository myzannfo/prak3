; Тестовая программа для УВМ вариант 10
; Проверка всех команд

; Тест LOADC (из спецификации)
LOADC 946 0 0    ; R0 = 946

; Подготовка для READM
LOADC 0x100 0 2  ; R2 = 0x100 (базовый адрес)
LOADC 123 0 4    ; R4 = 123 (значение для записи)

; Запись значения в память для теста READM
; Для этого используем команду WRITEM
; Но сначала нужно записать адрес в регистр
LOADC 0x150 0 3  ; R3 = 0x150 (адрес для записи)
WRITEM 4 3       ; mem[R3] = R4 (записать 123 по адресу 0x150)

; Тест READM
READM 0x50 3 5 2 ; R5 = mem[R2+0x50] (должно быть 0, т.к. там ничего нет)

; Тест POPCNT
LOADC 0xFF 0 6   ; R6 = 255 (бинарно: 11111111)
POPCNT 6 7       ; R7 = popcount(R6) (должно быть 8)

; Еще один тест WRITEM
LOADC 0x200 0 1  ; R1 = 0x200
LOADC 42 0 4     ; R4 = 42
WRITEM 4 1       ; mem[R1] = R4 (записать 42 по адресу 0x200)

; Конец программы